<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="report_delivery_document_soludoo">
            <div class="for_coverpage">
                <t t-call="soludoo_basic_reports.external_layout_soludoo">
                    <t t-set="o" t-value="o.with_context({'lang':o.partner_id.lang})" />
                    <div class="page" style="font-family: 'Lato', sans-serif; font-weight: 300;margin-left: -15px;margin-right: -15px;">
                        <link rel="stylesheet" type="text/scss" href="/soludoo_basic_reports/static/src/css/style.css" />
                        <div class="oe_structure" />
                        <div class="row addr_texts">
                            <div class="col-6" style="line-height: 12px;">
                                <div t-if="o.retail_shipping_end_id" name="show_retail_shipping_end_id">
                                    <t t-if="o.retail_shipping_end_id.type != 'delivery' or o.retail_shipping_end_id.company_type != 'person'">
                                        <t t-if="o.retail_shipping_end_id.title.shortcut"><span t-field="o.retail_shipping_end_id.title.shortcut" style="font-size: 10px !important;font-weight:400;" /> <br /></t>
                                        <t t-if="o.retail_shipping_end_id.name"><span t-field="o.retail_shipping_end_id.name" style="font-size: 10px !important;font-weight:400;" /><br /></t>
                                    </t>
                                    <t t-if="o.retail_shipping_end_id.type == 'delivery' and o.retail_shipping_end_id.company_type == 'person'">
                                        <t t-if="o.retail_shipping_end_id.title.shortcut"><span t-field="o.retail_shipping_end_id.title.shortcut" style="font-size: 10px !important;font-weight:400;" /> <br /></t>
                                        <t t-if="o.retail_shipping_end_id.company_type == 'person'"><span t-field="o.retail_shipping_end_id.name" style="font-size: 10px !important;font-weight:400;" /><br /></t>
                                        <t t-if="o.retail_shipping_end_id.division_name"><span t-field="o.retail_shipping_end_id.division_name" style="font-size: 10px !important;font-weight:400;" /><br /></t>
                                    </t>
                                    <t t-if="o.retail_shipping_end_id.street"><span t-field="o.retail_shipping_end_id.street" style="font-size: 10px !important;font-weight:400;" /><br /></t>
                                    <t t-if="o.retail_shipping_end_id.street2"><span t-field="o.retail_shipping_end_id.street2" style="font-size: 10px !important;font-weight:400;" /><br /></t>
                                    <t t-if="o.retail_shipping_end_id.country_id.code"><span t-field="o.retail_shipping_end_id.country_id.code" style="font-size: 10px !important;font-weight:400;" /></t>
                                    <t t-if="o.retail_shipping_end_id.country_id.code and o.retail_shipping_end_id.zip"><span>-</span></t>
                                    <t t-if="o.retail_shipping_end_id.zip"><span t-field="o.retail_shipping_end_id.zip" style="font-size: 10px !important;font-weight:400;" /></t>
                                    <t t-if="o.retail_shipping_end_id.city"><span> </span><span t-field="o.retail_shipping_end_id.city" style="font-size: 10px !important;font-weight:400;" /></t>
                                </div>
                            </div>
                            <div class="col-6 env_left_alignment" style="line-height: 12px;">
                                <div style="font-size: 8px;line-height: 12px;">
                                    <t t-set="c" t-value="o.company_id" />
                                    <t t-if="o.company_id">
                                        <t t-if="c.name"><span class="company_id" t-field="c.name" />
                                        </t>
                                        <t t-if="c.street">
                                            , <span class="company_id" t-field="c.street" />
                                            <t t-if="c.country_id">,</t>
                                        </t>
                                        <t t-if="c.country_id">
                                            <span class="company_id" t-field="c.country_id.code" />
                                            -
                                        </t>
                                        <span class="company_id" t-field="c.zip" />
                                        <t t-if="c.city">
                                            <span class="company_id" t-field="c.city" />
                                        </t>
                                    </t>
                                </div>
                                <div style="border-bottom: solid 1px #dee2e6; width: 25px; margin-top: 5px;margin-bottom: 3px;" />

                                <t t-set="config_partner_id" t-value="request.env['ir.config_parameter'].sudo().get_param('dynco_base.dropship_delivery_partner_id')"/>
                                <t t-set="partner" t-value="request.env['res.partner'].browse(int(config_partner_id))"/>
                                <div t-if="partner" name="partner_header">
                                    <t t-if="partner.name"><span t-field="partner.name" style="font-size: 10px !important;font-weight:400;"/><br/></t>
                                    <t t-if="partner.street"><span t-field="partner.street" style="font-size: 10px !important;font-weight:400;"/><br/></t>
                                    <t t-if="partner.street2"><span t-field="partner.street2" style="font-size: 10px !important;font-weight:400;"/><br/></t>
                                    <t t-if="partner.country_id.code"><span t-field="partner.country_id.code" style="font-size: 10px !important;font-weight:400;"/></t><t t-if="partner.country_id.code and partner.zip"><span>-</span></t><t t-if="partner.zip"><span t-field="partner.zip" style="font-size: 10px !important;font-weight:400;"/></t>
                                    <t t-if="partner.city"><span> </span><span t-field="partner.city" style="font-size: 10px !important;font-weight:400;"/></t>

                                </div>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-6"/>
                            <div class="col-6">
                                <span style="font-size:11px !important; font-weight:700;">Print Date: <span t-esc="o.date.today().strftime('%d.%m.%Y')"/></span>
                            </div>
                        </div>
                        <h2 class="text-uppercase address_title_space mt-5 mb-4">
                            <span style="font-weight:800;font-size:14px;">DELIVERY BILL</span><span t-field="o.name" style="font-weight:800;font-size:14px;"/>
                        </h2>
                        <table class="table table-borderless table-sm o_main_table" style="margin-bottom: 0px;">
                            <tbody>
                                <tr>
                                    <!--left-->
                                    <td width="50%">
                                        <table class="table table-borderless" style="line-height: 7px; margin-left: -5px;">
                                            <tr t-if="o.date_done">
                                                <td width="20%">
                                                    <span style="font-size:11px !important; font-weight:700; line-height: 13px;">Planned Delivery Date</span>
                                                </td>
                                                <td width="80%">
                                                    <span t-field="o.date_done" t-options="{&quot;format&quot;: &quot;dd.MM.YYYY&quot;}" style="font-size:11px !important; font-weight:700;"/>
                                                </td>
                                            </tr>
                                            <tr t-if="o.scheduled_date">
                                                <td>
                                                    <span style="font-size:11px !important; font-weight:700; line-height: 13px;">Actual Delivery Date</span>
                                                </td>
                                                <td t-if="o.scheduled_date"><span t-field="o.scheduled_date" t-options="{&quot;format&quot;: &quot;dd.MM.YYYY&quot;}" style="font-size:11px !important; font-weight:700;"/></td>
                                            </tr>
                                            <tr t-if="o.sale_id and o.sale_id.name">
                                                <td>
                                                    <span style="font-size:11px !important; font-weight:700;">Order Conf.</span>
                                                </td>
                                                <td>
                                                    <span t-field="o.sale_id.name" style="font-size:11px !important; font-weight:700;"/>
                                                </td>
                                            </tr>
                                        </table>
                                    </td>
                                    <!-- middle -->
                                    <td width="50%">
                                        <table class="table table-borderless" style="line-height: 7px;">
                                            <tr t-if="o.partner_id.commercial_partner_id" name="commercial_partner_id">
                                                <!-- <t t-if="o.picking_type_code == 'outgoing'">
                                                <td width="30%">
                                                        <span style="font-size:11px !important; font-weight:700;">Y/C-ID</span>
                                                    </td>
                                                    <td width="70%">
                                                        <span t-field="o.partner_id.commercial_partner_id" style="font-size:11px !important; font-weight:700;" />
                                                    </td>
                                                </t> -->
                                                <!-- <t t-if="o.picking_type_code == 'incoming'"> -->
                                                <tr>
                                                    <td width="20%">
                                                        <span style="font-size:11px !important; font-weight:700;">Order-No</span>
                                                    </td>
                                                    <td width="80%"><span t-field="o.order_number" style="font-size:11px !important; font-weight:700;"/></td>
                                                </tr>
                                                <tr t-if="o.customer_phone">
                                                    <td>
                                                        <span style="font-size:11px !important; font-weight:700;">Phone No</span>
                                                    </td>
                                                    <td>
                                                        <span t-field="o.customer_phone" style="font-size:11px !important; font-weight:700;"/>
                                                    </td>
                                                </tr>
                                                    <!-- <span class="company_id" t-field="c.country_id.code" /> -->
                                                <!-- </t> -->
                                            </tr>
                                        </table>
                                    </td>
                                    <!--right-->
                                    <!-- <td width="20%">
                                        <table class="table table-borderless" style="line-height: 7px;">
                                            <t t-if="o.picking_type_code == 'outgoing'">
                                                <tr t-if="o.contact_id">
                                                    <td>
                                                        <span style="font-size:11px !important; font-weight:700;">O/Contact</span>
                                                    </td>
                                                    <td><span t-field="o.contact_id" style="font-size:11px !important; font-weight:700;"/></td>
                                                </tr>
                                                <tr t-if="o.contact_id and o.contact_id.phone">
                                                    <td />
                                                    <td><span t-field="o.contact_id.phone" style="font-size:11px !important; font-weight:700;"/></td>
                                                </tr>
                                                <tr t-if="o.contact_id and o.contact_id.sales_email">
                                                    <td />
                                                    <td style="padding-bottom: 2px;"><span t-field="o.contact_id.sales_email" style="font-size:11px !important; font-weight:700;"/></td>
                                                </tr>
                                            </t>
                                            <tr>
                                                <td>
                                                    <span style="font-size:11px !important;font-weight:700;">Supplier No</span>
                                                </td>
                                                <td><span t-field="o.partner_id.supplier_no" style="font-size:11px !important;font-weight:700;"/></td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <span style="font-size:11px !important;font-weight:700;">GLN</span>
                                                </td>
                                                <td><span t-field="o.partner_id.gln" style="font-size:11px !important;font-weight:700;"/></td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <span style="font-size:11px !important;font-weight:700;">EORI No</span>
                                                </td>
                                                <td><span t-field="o.partner_id.eori_no" style="font-size:11px !important;font-weight:700;"/></td>
                                            </tr>
                                        </table>
                                    </td> -->
                                </tr>
                            </tbody>
                        </table>
                        <table class="table table-sm o_main_table" name="move_lines_table">
                            <thead>
                                <tr style="line-height: 10px;">
                                    <th name="th_description" style="font-size:10px !important;font-weight:330;" class="text-left"><span>Pos</span></th>
                                    <th style="font-size:10px !important;font-weight:330;">Art-No.<br/>EAN
                                    </th>
                                    <th style="font-size:10px !important;font-weight:330;">C-Art-No</th>
                                    <th name="th_description" style="font-size:10px !important;font-weight:330;" class="text-left"><span>Product<br/>Description</span></th>
                                    <th name="th_o_qty" style="font-size:10px !important;font-weight:330;" class="text-left"><span>Ordered<br/>Quantity</span></th>
                                    <th name="th_d_qty" style="font-size:10px !important;font-weight:330;" class="text-left"><span>Delivered<br/>Quantity</span></th>
                                </tr>
                            </thead>
                            <tbody class="picking_tbody" style="line-height: 12px;">
                                <t t-set="current_subtotal" t-value="0" />
                                <t t-set="i" t-value="1"/>
                                <t t-foreach="o.move_lines" t-as="move">
                                    <t t-set="current_subtotal" t-value="current_subtotal + move.price_subtotal" groups="account.group_show_line_subtotals_tax_excluded" />
                                    <tr>
                                        <t>
                                            <td style="font-size:10px !important;">
                                                <span style="font-weight:505;" width="5%" t-esc="str(i).zfill(3)"/>
                                                <t t-set="i" t-value="i+1"/>
                                            </td>
                                            <td class="text-left" width="20%">
                                                <span style="font-size: 10px !important; font-weight:505;" t-field="move.product_id.default_code"/><br/>
                                                <span style="font-size: 10px !important; font-weight:505;" t-field="move.product_id.barcode"/>
                                            </td>
                                            <td style="font-size:10px !important;" width="20%">
                                                <t t-set="cust_find_code" t-value="k"/>
                                                <t t-foreach="move.product_id.product_customer_code_ids" t-as="cust_code">
                                                    <t t-if="o.sale_id.partner_id == cust_code.partner_id and cust_find_code != cust_code.product_code">
                                                        <span t-field="cust_code.product_code" class="mr8"/> <br />
                                                        <t t-set="cust_find_code" t-value="cust_code.product_code"/>
                                                    </t>
                                                </t>
                                            </td>
                                            <td style="font-size: 10px !important;font-weight:505;" width="35%">
                                                <span t-field="move.product_id.name" t-options="{'widget': 'text'}" />
                                            </td>
                                            <td style="font-size:10px !important;" width="10%">
                                                <span t-field="move.product_uom_qty"/>
                                            </td>
                                            <td style="font-size:10px !important;" width="10%">
                                                <span t-field="move.quantity_done"/>
                                            </td>
                                        </t>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>
                </t>
            </div>
        </template>
        <template id="dynco_base.report_ds_streck_deliveryslip">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="dynco_base.report_delivery_document_soludoo" t-lang="o.partner_id.lang" />
                </t>
            </t>
        </template>
    </data>
</odoo>